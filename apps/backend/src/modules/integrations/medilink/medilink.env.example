# =================================
# MEDILINK INTEGRATION CONFIGURATION
# =================================

# Medilink API Configuration
# Default base URL for Medilink API (v1)
# For Medilink 2 use: https://api.medilink2.healthatom.com/api/v5
MEDILINK_DEFAULT_BASE_URL=https://api.medilink.healthatom.com/api/v1

# Encryption key for storing tokens (32 bytes in base64)
# Generate with: openssl rand -base64 32
MEDILINK_ENCRYPTION_KEY_B64=YOUR_32_BYTES_BASE64_KEY_HERE

# Default rate limit per minute (per tenant)
MEDILINK_RATE_LIMIT_RPM=20

# Enable/disable automatic synchronization
MEDILINK_SYNC_ENABLED=false

# =================================
# WHATSAPP CLOUD API CONFIGURATION
# =================================

# WhatsApp Graph API Version
WA_GRAPH_VERSION=20.0

# WhatsApp Business Phone Number ID (from Meta Business Suite)
WA_PHONE_NUMBER_ID=YOUR_PHONE_NUMBER_ID

# WhatsApp Access Token (from Meta for Developers)
WA_ACCESS_TOKEN=YOUR_META_ACCESS_TOKEN

# Default language code for templates
# Options: es_ES, es_MX, en_US, pt_BR, etc.
WA_LANG_CODE=es_ES

# Template names (must match exactly with Meta Business Suite)
WA_TEMPLATE_CITA_CREADA=cita_creada
WA_TEMPLATE_CITA_REAGENDADA=cita_reagendada
WA_TEMPLATE_CITA_ANULADA=cita_anulada

# =================================
# OPTIONAL CONFIGURATION
# =================================

# Session expiration for booking funnel (minutes)
MEDILINK_SESSION_EXPIRATION_MINUTES=30

# Maximum slots to show in WhatsApp
MEDILINK_MAX_SLOTS_TO_SHOW=10

# Default appointment duration (minutes)
MEDILINK_DEFAULT_APPOINTMENT_DURATION=30

# Retry configuration
MEDILINK_MAX_RETRIES=3
MEDILINK_RETRY_DELAY_MS=1000
MEDILINK_BACKOFF_MULTIPLIER=2

# =================================
# APPOINTMENT STATES MAPPING
# =================================
# These IDs may vary by Medilink installation
# Check with GET /citas/estados endpoint

MEDILINK_STATE_NO_CONFIRMADO=7
MEDILINK_STATE_CONFIRMADO=1
MEDILINK_STATE_ANULADO=3
MEDILINK_STATE_CAMBIO_FECHA=8
MEDILINK_STATE_NO_ASISTIO=4
MEDILINK_STATE_ATENDIDO=2
